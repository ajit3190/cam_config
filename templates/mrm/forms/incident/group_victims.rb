# frozen_string_literal: true

group_victims_subform_fields = [
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_description',
    'type' => 'text_field',
    'display_name_en' => 'Description of group victim(s)',
    'help_text_en' => 'E.g., students of a school destroyed in an aerial bombardment; doctors and patients of a hospital hit by a missile.'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => true,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'violations_ids',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => 'Violation(s)',
    'option_strings_source' => 'violations'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_number',
    'type' => 'numeric_field',
    'display_name_en' => 'How many children were affected?'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_number_estimated',
    'type' => 'tick_box',
    'tick_box_label_en' => 'Yes',
    'display_name_en' => 'Is this number estimated?'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_gender',
    'type' => 'select_box',
    'display_name_en' => 'Sex of the children affected',
    'option_strings_source' => 'lookup lookup-gender-mixed'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'group_age_band',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => 'Age range of the children affected',
    'option_strings_text_en' => [
      {
        'id' => '0_5',
        'display_text' => '0 - 5'
      },
      {
        'id' => '6_10',
        'display_text' => '6 - 10'
      },
      {
        'id' => '11_13',
        'display_text' => '11 - 13'
      },
      {
        'id' => '14_18',
        'display_text' => '14 - 18'
      },
      {
        'id' => 'unknown',
        'display_text' => 'Unknown'
      }
    ]
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'group_nationality',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => 'Nationality/ies of the children affected',
    'option_strings_source' => 'lookup lookup-nationality'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'group_ethnicity',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => 'Ethnic affiliation(s) of the children affected',
    'option_strings_source' => 'lookup lookup-ethnicity'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'group_religion',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => 'Religious affiliation(s) of the children affected.',
    'option_strings_source' => 'lookup lookup-religion'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_adult_number',
    'type' => 'numeric_field',
    'display_name_en' => 'How many adults were affected?',
    'help_text_en' => ' E.g. education personnel; healthcare personnel'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_adult_number_estimated',
    'type' => 'tick_box',
    'tick_box_label_en' => 'Yes',
    'display_name_en' => 'Is this number estimated? '
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_adult_gender',
    'type' => 'select_box',
    'display_name_en' => 'Sex of the adults affected',
    'option_strings_source' => 'lookup lookup-gender-mixed'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'name' => 'group_vulnerabilities',
    'type' => 'select_box',
    'multi_select' => true,
    'display_name_en' => "Group victim's vulnerabilities at the time of the incident",
    'option_strings_source' => 'lookup lookup-vulnerability-type'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'editable' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_additional_details',
    'type' => 'textarea',
    'display_name_en' => 'Additional details'
  )
]
group_victims_subform = FormSection.create_or_update!(
  name_en: 'Nested Group victim(s)',
  fields: group_victims_subform_fields,
  description_en: 'Group victim(s) Subform',
  unique_id: 'group_victims_section',
  parent_form: 'incident',
  visible: false,
  order: 10,
  order_form_group: 60,
  order_subform: 1,
  editable: true,
  core_form: true,
  is_nested: true,
  is_first_tab: false,
  initial_subforms: 1,
  collapsed_field_names: %w[group_gender group_age_band],
  mobile_form: false,
  subform_append_only: false
)

group_victims_fields = [
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => true,
    'visible' => false,
    'editable' => true,
    'multi_select' => false,
    'name' => 'group_victims_guiding_questions',
    'type' => 'separator',
    'display_name_en' => 'Please read guidance text below for the violation definition.',
    'disabled' => true,
    'guiding_questions_en' => 'Please enter here any information on group(s) of unidentified victims'
  ),
  Field.new(
    'mobile_visible' => true,
    'required' => false,
    'show_on_minify_form' => false,
    'hidden_text_field' => false,
    'autosum_total' => false,
    'autosum_group' => '',
    'hide_on_view_page' => false,
    'visible' => true,
    'disabled' => false,
    'multi_select' => false,
    'name' => 'group_victims',
    'type' => 'subform',
    'editable' => true,
    'subform_section' => group_victims_subform,
    'collapse' => 'collapsed',
    'display_name_en' => 'Group victim'
  )
]
FormSection.create_or_update!(
  name_en: 'Group victim(s)',
  fields: group_victims_fields,
  description_en: 'Group victim(s)',
  unique_id: 'group_victims',
  parent_form: 'incident',
  visible: true,
  order: 10,
  order_form_group: 60,
  order_subform: 0,
  editable: true,
  core_form: true,
  is_first_tab: false,
  initial_subforms: 0,
  mobile_form: false,
  form_group_id: 'additional_details'
)
